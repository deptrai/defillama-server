# DeFiLlama Staging Environment Configuration
# This file contains environment variables for staging deployment

# Environment
NODE_ENV=staging

# Database Configuration (Staging PostgreSQL)
TVL_CACHE_DB_CONFIG={"host":"defillama-postgres","port":5432,"user":"postgres","password":"${POSTGRES_PASSWORD}","db_name":"defillama","internalHost":"defillama-postgres"}
DEV_METRICS_DB_CONFIG={"host":"defillama-postgres","port":5432,"user":"postgres","password":"${POSTGRES_PASSWORD}","db_name":"defillama","internalHost":"defillama-postgres"}
ACCOUNTS_DB=postgresql://postgres:${POSTGRES_PASSWORD}@defillama-postgres:5432/defillama
ALERTS_DB=postgresql://postgres:${POSTGRES_PASSWORD}@defillama-postgres:5432/defillama
AGGREGATOR_DB_URL=postgresql://postgres:${POSTGRES_PASSWORD}@defillama-postgres:5432/defillama

# Redis Configuration (Staging Redis)
REDIS_HOST=defillama-redis
REDIS_PORT=6379
REDIS_PASSWORD=${REDIS_PASSWORD}
REDIS_DB=0

# DynamoDB settings (Staging - use PostgreSQL cache)
tableName=staging-table
AWS_REGION=eu-central-1

# API Configuration
API2_SUBPATH=api
API2_SKIP_SUBPATH=false
API2_CACHE_DIR=/app/.api2-cache
PORT=3000

# RPC endpoints for adapters
ETHEREUM_RPC=https://eth.llamarpc.com
BSC_RPC=https://bsc.llamarpc.com
POLYGON_RPC=https://polygon.llamarpc.com
FANTOM_RPC=https://rpc.ftm.tools
ARBITRUM_RPC=https://arb1.arbitrum.io/rpc
OPTIMISM_RPC=https://mainnet.optimism.io
XDAI_RPC=https://rpc.gnosischain.com
HARMONY_RPC=https://api.harmony.one
SOLANA_RPC=https://api.mainnet-beta.solana.com
MOONRIVER_RPC=https://rpc.api.moonriver.moonbeam.network
CRONOS_RPC=https://evm.cronos.org

# Webhook Configuration (Staging)
OUTDATED_WEBHOOK=${SLACK_WEBHOOK_URL}
SPIKE_WEBHOOK=${SLACK_WEBHOOK_URL}
DROPS_WEBHOOK=${SLACK_WEBHOOK_URL}
STALE_COINS_ADAPTERS_WEBHOOK=${SLACK_WEBHOOK_URL}
TEAM_WEBHOOK=${SLACK_WEBHOOK_URL}

# Storage Configuration (Staging)
R2_ACCESS_KEY_ID=${R2_ACCESS_KEY_ID}
R2_SECRET_ACCESS_KEY=${R2_SECRET_ACCESS_KEY}
R2_ENDPOINT=${R2_ENDPOINT}

# API Keys (Staging)
ALLIUM_API_KEY=${ALLIUM_API_KEY}
FLIPSIDE_API_KEY=${FLIPSIDE_API_KEY}
DEFILLAMA_API_KEY=${DEFILLAMA_API_KEY}
ETHERSCAN_API_KEY=${ETHERSCAN_API_KEY}

# Monitoring Configuration
PROMETHEUS_ENABLED=true
GRAFANA_ENABLED=true
LOKI_ENABLED=true

# Security Configuration
JWT_SECRET=${JWT_SECRET}
ANON_KEY=${ANON_KEY}
SERVICE_ROLE_KEY=${SERVICE_ROLE_KEY}

# Email Configuration (Staging)
SMTP_HOST=${SMTP_HOST}
SMTP_PORT=${SMTP_PORT}
SMTP_USER=${SMTP_USER}
SMTP_PASSWORD=${SMTP_PASSWORD}
SMTP_FROM=${SMTP_FROM}

# Feature Flags
LLAMA_RUN_LOCAL=false
ENABLE_ALERTS=true
ENABLE_NOTIFICATIONS=true
ENABLE_CACHING=true

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json

# Performance Configuration
MAX_OLD_SPACE_SIZE=4096
WORKER_THREADS=4

