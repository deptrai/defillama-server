-- Seed Data: MEV Market Trends
-- Story: 4.1.3 - Advanced MEV Analytics
-- Date: 2025-10-16
-- Description: Sample MEV market trends data for testing and development

-- Clear existing data (for development)
TRUNCATE TABLE mev_market_trends CASCADE;

-- Insert sample MEV market trends data (7 days for Ethereum mainnet)

INSERT INTO mev_market_trends (
  date, chain_id,
  total_mev_volume_usd, total_opportunities, total_executed_opportunities, execution_rate_pct,
  sandwich_count, sandwich_volume_usd, sandwich_share_pct,
  frontrun_count, frontrun_volume_usd, frontrun_share_pct,
  backrun_count, backrun_volume_usd, backrun_share_pct,
  arbitrage_count, arbitrage_volume_usd, arbitrage_share_pct,
  liquidation_count, liquidation_volume_usd, liquidation_share_pct,
  avg_profit_per_opportunity_usd, median_profit_usd, max_profit_usd, min_profit_usd,
  unique_bots, new_bots, active_bots, bot_concentration_hhi, top_10_bots_share_pct,
  avg_gas_price_gwei, avg_priority_fee_gwei, total_gas_spent_usd,
  top_protocol_1_id, top_protocol_1_volume_usd,
  top_protocol_2_id, top_protocol_2_volume_usd,
  top_protocol_3_id, top_protocol_3_volume_usd,
  top_protocol_4_id, top_protocol_4_volume_usd,
  top_protocol_5_id, top_protocol_5_volume_usd,
  top_token_1_symbol, top_token_1_volume_usd,
  top_token_2_symbol, top_token_2_volume_usd,
  top_token_3_symbol, top_token_3_volume_usd,
  top_token_4_symbol, top_token_4_volume_usd,
  top_token_5_symbol, top_token_5_volume_usd,
  market_efficiency_score, competition_level
) VALUES
-- Day 1: 2025-10-09
('2025-10-09', 'ethereum',
 1250000.00, 2850, 2565, 90.00,
 850, 425000.00, 34.00,
 620, 310000.00, 24.80,
 380, 190000.00, 15.20,
 285, 228000.00, 18.24,
 95, 97000.00, 7.76,
 487.72, 285.00, 45000.00, 12.50,
 125, 8, 118, 850.00, 62.50,
 48.50, 13.20, 95000.00,
 'uniswap-v3', 285000.00,
 'sushiswap', 185000.00,
 'curve', 95000.00,
 'balancer', 68000.00,
 'aave-v3', 45000.00,
 'WETH', 485000.00,
 'USDC', 325000.00,
 'DAI', 185000.00,
 'USDT', 145000.00,
 'UNI', 110000.00,
 78.50, 'high'),

-- Day 2: 2025-10-10
('2025-10-10', 'ethereum',
 1320000.00, 3050, 2745, 90.00,
 920, 462000.00, 35.00,
 665, 330000.00, 25.00,
 410, 198000.00, 15.00,
 305, 244000.00, 18.48,
 102, 86000.00, 6.52,
 480.77, 278.00, 48000.00, 11.80,
 132, 12, 125, 820.00, 61.80,
 50.20, 14.10, 102000.00,
 'uniswap-v3', 298000.00,
 'sushiswap', 195000.00,
 'curve', 102000.00,
 'balancer', 72000.00,
 'aave-v3', 48000.00,
 'WETH', 512000.00,
 'USDC', 342000.00,
 'DAI', 195000.00,
 'USDT', 152000.00,
 'UNI', 119000.00,
 79.20, 'high'),

-- Day 3: 2025-10-11
('2025-10-11', 'ethereum',
 1180000.00, 2680, 2412, 90.00,
 780, 390000.00, 33.05,
 585, 292500.00, 24.79,
 355, 177000.00, 15.00,
 268, 214400.00, 18.17,
 88, 106100.00, 8.99,
 440.30, 265.00, 42000.00, 10.50,
 118, 5, 115, 880.00, 63.20,
 46.80, 12.50, 88000.00,
 'uniswap-v3', 275000.00,
 'sushiswap', 175000.00,
 'curve', 88000.00,
 'balancer', 65000.00,
 'aave-v3', 42000.00,
 'WETH', 458000.00,
 'USDC', 305000.00,
 'DAI', 175000.00,
 'USDT', 138000.00,
 'UNI', 104000.00,
 77.80, 'high'),

-- Day 4: 2025-10-12
('2025-10-12', 'ethereum',
 1385000.00, 3180, 2862, 90.00,
 965, 485000.00, 35.02,
 695, 347500.00, 25.09,
 425, 212500.00, 15.34,
 318, 254700.00, 18.39,
 105, 85300.00, 6.16,
 435.53, 272.00, 52000.00, 13.20,
 138, 10, 132, 795.00, 60.50,
 52.50, 15.80, 108000.00,
 'uniswap-v3', 310000.00,
 'sushiswap', 205000.00,
 'curve', 108000.00,
 'balancer', 75000.00,
 'aave-v3', 52000.00,
 'WETH', 538000.00,
 'USDC', 358000.00,
 'DAI', 205000.00,
 'USDT', 162000.00,
 'UNI', 122000.00,
 80.50, 'high'),

-- Day 5: 2025-10-13
('2025-10-13', 'ethereum',
 1295000.00, 2980, 2682, 90.00,
 895, 452500.00, 34.94,
 650, 325000.00, 25.10,
 395, 197500.00, 15.25,
 295, 236000.00, 18.22,
 98, 84000.00, 6.49,
 434.56, 268.00, 46000.00, 12.00,
 128, 7, 123, 825.00, 61.90,
 49.80, 13.90, 98000.00,
 'uniswap-v3', 292000.00,
 'sushiswap', 192000.00,
 'curve', 98000.00,
 'balancer', 70000.00,
 'aave-v3', 46000.00,
 'WETH', 502000.00,
 'USDC', 335000.00,
 'DAI', 192000.00,
 'USDT', 152000.00,
 'UNI', 114000.00,
 79.00, 'high'),

-- Day 6: 2025-10-14
('2025-10-14', 'ethereum',
 1360000.00, 3120, 2808, 90.00,
 945, 476000.00, 35.00,
 680, 340000.00, 25.00,
 415, 207500.00, 15.26,
 310, 248000.00, 18.24,
 102, 88500.00, 6.50,
 435.90, 270.00, 50000.00, 12.80,
 135, 9, 129, 810.00, 61.20,
 51.20, 14.50, 105000.00,
 'uniswap-v3', 305000.00,
 'sushiswap', 200000.00,
 'curve', 105000.00,
 'balancer', 73000.00,
 'aave-v3', 50000.00,
 'WETH', 528000.00,
 'USDC', 352000.00,
 'DAI', 200000.00,
 'USDT', 158000.00,
 'UNI', 122000.00,
 80.20, 'high'),

-- Day 7: 2025-10-15
('2025-10-15', 'ethereum',
 1275000.00, 2920, 2628, 90.00,
 875, 445000.00, 34.90,
 635, 317500.00, 24.90,
 385, 192500.00, 15.10,
 288, 230400.00, 18.07,
 95, 89600.00, 7.03,
 436.64, 267.00, 44000.00, 11.50,
 126, 6, 121, 835.00, 62.30,
 48.90, 13.50, 92000.00,
 'uniswap-v3', 288000.00,
 'sushiswap', 188000.00,
 'curve', 92000.00,
 'balancer', 68000.00,
 'aave-v3', 44000.00,
 'WETH', 495000.00,
 'USDC', 330000.00,
 'DAI', 188000.00,
 'USDT', 148000.00,
 'UNI', 114000.00,
 78.80, 'high');

-- Insert sample data for Arbitrum (3 days for comparison)
INSERT INTO mev_market_trends (
  date, chain_id,
  total_mev_volume_usd, total_opportunities, total_executed_opportunities, execution_rate_pct,
  sandwich_count, sandwich_volume_usd, sandwich_share_pct,
  frontrun_count, frontrun_volume_usd, frontrun_share_pct,
  backrun_count, backrun_volume_usd, backrun_share_pct,
  arbitrage_count, arbitrage_volume_usd, arbitrage_share_pct,
  liquidation_count, liquidation_volume_usd, liquidation_share_pct,
  avg_profit_per_opportunity_usd, median_profit_usd, max_profit_usd, min_profit_usd,
  unique_bots, new_bots, active_bots, bot_concentration_hhi, top_10_bots_share_pct,
  avg_gas_price_gwei, avg_priority_fee_gwei, total_gas_spent_usd,
  top_protocol_1_id, top_protocol_1_volume_usd,
  top_protocol_2_id, top_protocol_2_volume_usd,
  top_protocol_3_id, top_protocol_3_volume_usd,
  top_protocol_4_id, top_protocol_4_volume_usd,
  top_protocol_5_id, top_protocol_5_volume_usd,
  top_token_1_symbol, top_token_1_volume_usd,
  top_token_2_symbol, top_token_2_volume_usd,
  top_token_3_symbol, top_token_3_volume_usd,
  top_token_4_symbol, top_token_4_volume_usd,
  top_token_5_symbol, top_token_5_volume_usd,
  market_efficiency_score, competition_level
) VALUES
-- Arbitrum Day 1
('2025-10-13', 'arbitrum',
 185000.00, 1250, 1125, 90.00,
 385, 74000.00, 40.00,
 280, 55500.00, 30.00,
 165, 27750.00, 15.00,
 125, 23125.00, 12.50,
 45, 4625.00, 2.50,
 164.44, 95.00, 8500.00, 8.50,
 42, 3, 40, 1250.00, 72.50,
 0.15, 0.05, 2800.00,
 'uniswap-v3', 52000.00,
 'sushiswap', 38000.00,
 'curve', 28000.00,
 'balancer', 22000.00,
 'aave-v3', 18000.00,
 'WETH', 72000.00,
 'USDC', 48000.00,
 'ARB', 32000.00,
 'USDT', 22000.00,
 'DAI', 11000.00,
 68.50, 'medium'),

-- Arbitrum Day 2
('2025-10-14', 'arbitrum',
 198000.00, 1350, 1215, 90.00,
 415, 79200.00, 40.00,
 305, 59400.00, 30.00,
 180, 29700.00, 15.00,
 135, 24750.00, 12.50,
 48, 4950.00, 2.50,
 162.96, 92.00, 9200.00, 9.00,
 45, 4, 43, 1220.00, 71.80,
 0.16, 0.05, 3100.00,
 'uniswap-v3', 56000.00,
 'sushiswap', 41000.00,
 'curve', 30000.00,
 'balancer', 24000.00,
 'aave-v3', 19000.00,
 'WETH', 77000.00,
 'USDC', 51000.00,
 'ARB', 34000.00,
 'USDT', 24000.00,
 'DAI', 12000.00,
 69.20, 'medium'),

-- Arbitrum Day 3
('2025-10-15', 'arbitrum',
 192000.00, 1300, 1170, 90.00,
 400, 76800.00, 40.00,
 295, 57600.00, 30.00,
 175, 28800.00, 15.00,
 130, 24000.00, 12.50,
 46, 4800.00, 2.50,
 164.10, 94.00, 8800.00, 8.80,
 43, 2, 41, 1235.00, 72.20,
 0.15, 0.05, 2950.00,
 'uniswap-v3', 54000.00,
 'sushiswap', 39000.00,
 'curve', 29000.00,
 'balancer', 23000.00,
 'aave-v3', 18500.00,
 'WETH', 75000.00,
 'USDC', 50000.00,
 'ARB', 33000.00,
 'USDT', 23000.00,
 'DAI', 11000.00,
 68.80, 'medium');

-- Summary statistics
SELECT 
  chain_id,
  COUNT(*) as days_tracked,
  SUM(total_mev_volume_usd) as total_mev_volume,
  AVG(total_mev_volume_usd) as avg_daily_volume,
  AVG(unique_bots) as avg_unique_bots,
  AVG(execution_rate_pct) as avg_execution_rate,
  AVG(market_efficiency_score) as avg_efficiency_score
FROM mev_market_trends
GROUP BY chain_id
ORDER BY total_mev_volume DESC;

